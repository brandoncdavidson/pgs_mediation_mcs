TITLE: SEM model equivalent to R lavaan model with sampling/non-response weights;

DATA: FILE = "C:\Users\brand\OneDrive - University of Cambridge\Genetic Data\Full dataset\nonverb_5_years_data.txt";

VARIABLE:
  NAMES = CCPSTSCORE CCPCTSCORE DCMATHS7SA DCWRSD00 total_score weight PTTYPE2 Child_PRS_regressed Mother_PRS_regressed Father_PRS_regressed;
  WEIGHT = GOVWT2;        
  STRATIFICATION = PTTYPE2;  
  MISSING ARE ALL (-9999)     

ANALYSIS:
  TYPE = COMPLEX;
  ESTIMATOR = FIML;

MODEL:
  ! Define latent variables
  nonverb5 BY CCPSTSCORE CCPCTSCORE;
  edu7 BY DCMATHS7SA DCWRSD00;
  edu17 BY total_score;

  ! Define structural paths with labels
  nonverb5 ON Child_PRS_regressed Mother_PRS_regressed Father_PRS_regressed;
  edu7 ON nonverb5 Child_PRS_regressed Mother_PRS_regressed Father_PRS_regressed;
  edu17 ON edu7 Child_PRS_regressed Mother_PRS_regressed Father_PRS_regressed;

  ! Regressions for PRS variables
  Child_PRS_regressed ON Mother_PRS_regressed Father_PRS_regressed;

  ! Covariance
  Mother_PRS_regressed WITH Father_PRS_regressed;

OUTPUT:
  STANDARDIZED;
  SAMPSTAT;
  CINTERVAL(BOOTSTRAP);       ! Request bootstrap confidence intervals for indirect effects

ANALYSIS:
  BOOTSTRAP = 5;           ! Perform bootstrap with 5000 samples

